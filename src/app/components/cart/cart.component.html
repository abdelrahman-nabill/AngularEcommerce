<section>
  <app-loading *ngIf="userData==null"></app-loading>

  <div *ngIf="userData!=null" class="container">
    <h2  class="special-font">Total Cart Price: <span class="fw-bold text-main">{{userData.totalCartPrice}}</span> EGP</h2>
    <div *ngFor="let item of userData.products" class="row">
      <div class="col-md-2">
        <img [src]="item.product.imageCover" class="w-100" alt="">
      </div>
      <div class="col-md-10">
        <div class="d-flex justify-content-between">
          <div class="mt-3 ms-2">
            <h4 class=" fw-bold">{{item.product.title.split(" ").slice(0,2).join(" ")}}</h4>
            <h5 class="text-main fw-bold">{{item.product.category.name}}</h5>
            <div class="d-flex justify-content-between">
        <span class="text-center fw-bold">{{item.price}}EGP</span>
        <span class="text-center fw-bold"><i class="font-sm rating-color fa-solid fa-star"></i>{{item.product.ratingsAverage}}</span>
      </div>
      <span (click)="deleteItem(item.product._id)" class="cursor-pointer text-danger d-block mt-5 fw-bold"> Remove <i class="fa-solid fa-trash"></i> </span>
    </div>
    <div class="mt-3">
      <span (click)="updateQuantity(item.product._id, item.count+1)" class="btn btn-outline-success me-3"><span class="fw-bold h4">+</span></span>
      <span class="fw-bold h4 align-baseline pt-2">{{item.count}}</span>
      <span (click)="updateQuantity(item.product._id, item.count-1)" class="btn btn-outline-danger ms-3"><span class="fw-bold h4">-</span></span>

    </div>
   </div>
    </div>
  </div>
  <div *ngIf="empty" class="vh-100 w-100 d-flex justify-content-center align-items-center">
    <h2 class="special-font fw-bold fs-1">No Products in Cart .......</h2>
  </div>
  <button   [routerLink]="['/payment/'+userData._id]" (click)="cartOwner()" class="btn w-100 bg-main text-white">Place Order</button>

</div>



</section>
