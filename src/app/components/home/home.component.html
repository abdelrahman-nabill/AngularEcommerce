<section>
  <div class="container">

    <app-loading *ngIf="products==null"></app-loading>
    <app-main-slider></app-main-slider>
    <a routerLink="/categories"><app-category-slider></app-category-slider></a>
    <input *ngIf="products!=null" type="text" [(ngModel)]="searchValue" class="form-control w-50 m-auto mt-2" placeholder="Search...">
    <div class="row">
      <div *ngFor="let product of products| search : searchValue" class="col-md-2 my-3">

        <div *ngIf="products!=null" class="product">
          <div class="cursor-pointer position-relative  ">
            <i (click)="addToWishList(product._id)" class="fa-regular hrt fa-heart "></i>

            <a [routerLink]="['/details/'+product.slug+'/'+product._id]">
              <div class="div overflow-hidden">
                <img [src]="product.imageCover" class="w-100" height="250" alt="">
              </div>
              <span class=" text-main font-sm fw-bold mt-2 ">{{product.category.name}}</span>
              <h6 class=" fw-bold">{{product.title.split(" ").slice(0,2).join(" ")}}</h6>
              <div class="d-flex justify-content-between mt-4">
                <span class="font fw-bolder">{{product.price}}EGP</span>
                <span class="font fw-bold">
                  <i class="font-sm rating-color fa-solid fa-star"></i>{{product.ratingsAverage}}</span>
              </div>
            </a>
            <div class="ld-ext-right">
              <button (click)="addToCart(product._id)" class="btn bg-main text-white my-3 w-100"><span *ngIf="!isLoading"> Add to Cart </span> <span *ngIf="isLoading" class="ld ld-ring ld-spin running px-3 text-center"></span> </button>

            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</section>
